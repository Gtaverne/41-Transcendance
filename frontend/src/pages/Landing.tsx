import { useEffect } from 'react';
import { RootStateOrAny, useSelector } from 'react-redux';
import { useNavigate } from 'react-router-dom';

import logo from './assets/logo.svg';


const API_42 = `https://api.intra.42.fr/oauth/authorize?client_id=${process.env.REACT_APP_CLIENT_ID!}&redirect_uri=${encodeURI(process.env.REACT_APP_BASE_URL!)}%2Flogin&response_type=code`;

function Landing() {
  const { user } = useSelector((state: RootStateOrAny) => state.auth);
  const navigate = useNavigate();

  useEffect(() => {
    if (user?.username ) {
      navigate('/');
    }
  }, [user, navigate]);

  // const plop = jwt.sign('','')

  return (
    <div className="landingPage">
      <img src={logo} style={{width: "300px"}} alt="Logo"></img>

      <div style={{padding: "40px"}}>
        <p>You are not logged in</p>
        <p>Use 42 authentication by clicking this button</p>
      </div>
      <a href={API_42}>
        <svg width="250px" height="64px" viewBox="0 0 250 64" version="1.1" xmlns="http://www.w3.org/2000/svg">
          <g id="Page-9" stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">
            <path d="M230.770861,7.76880231e-16 C237.457252,-4.51389787e-16 239.881898,0.696192084 242.326343,2.00349528 C244.770787,3.31079847 246.689202,5.22921278 247.996505,7.67365722 C249.303808,10.1181017 250,12.5427485 250,19.229139 L250,44.770861 C250,51.4572515 249.303808,53.8818983 247.996505,56.3263428 C246.689202,58.7707872 244.770787,60.6892015 242.326343,61.9965047 C239.881898,63.3038079 237.457252,64 230.770861,64 L19.229139,64 C12.5427485,64 10.1181017,63.3038079 7.67365722,61.9965047 C5.22921278,60.6892015 3.31079847,58.7707872 2.00349528,56.3263428 C0.696192084,53.8818983 3.00926524e-16,51.4572515 -5.17920154e-16,44.770861 L5.17920154e-16,19.229139 C-3.00926524e-16,12.5427485 0.696192084,10.1181017 2.00349528,7.67365722 C3.31079847,5.22921278 5.22921278,3.31079847 7.67365722,2.00349528 C10.1181017,0.696192084 12.5427485,4.51389787e-16 19.229139,-7.76880231e-16 L230.770861,7.76880231e-16 Z M89,18 L81.0113177,18 L65,34.2711811 L65,40.8496265 L81.0113177,40.8496265 L81.0113177,49 L89,49 L89,34.2711811 L73.017785,34.2711811 L89,18 Z M156.062387,26.8605957 C154.896931,26.8605957 153.90101,27.136322 153.074624,27.6877747 C152.248239,28.2392273 151.61463,29.0356598 151.173799,30.0770721 C150.732967,31.1184845 150.512551,32.3830566 150.512551,33.8707886 L150.512551,33.8846741 C150.512551,35.3009949 150.729099,36.5113805 151.162194,37.515831 C151.59529,38.5202815 152.222749,39.2891744 153.044572,39.8225098 C153.866395,40.3558451 154.851836,40.6225128 156.000894,40.6225128 C156.667398,40.6225128 157.275153,40.5304718 157.824159,40.3463898 C158.373165,40.1623077 158.849735,39.9009298 159.253869,39.5622559 C159.658003,39.2235819 159.972411,38.8178609 160.197091,38.3450928 L160.300637,38.3450928 L160.300637,40.666153 C160.300637,41.2899424 160.085015,41.7932587 159.653772,42.1761017 C159.222528,42.5589447 158.582142,42.7503662 157.732614,42.7503662 C157.020618,42.7503662 156.456272,42.6319758 156.039575,42.395195 C155.622878,42.1584142 155.358392,41.9063924 155.246118,41.6391296 L155.21557,41.5641479 L150.858499,41.5641479 L150.872979,41.6762238 C150.977451,42.4485219 151.31477,43.1432927 151.884935,43.7605362 C152.4551,44.3777796 153.232919,44.8647639 154.218393,45.221489 C155.203866,45.578214 156.364363,45.7565765 157.699884,45.7565765 C159.157464,45.7565765 160.417838,45.5383428 161.481004,45.1018753 C162.54417,44.6654078 163.364142,44.0594711 163.940919,43.2840652 C164.517696,42.5086594 164.806085,41.6128794 164.806085,40.5967255 L164.806085,27.1460419 L160.300042,27.1460419 L160.300042,29.5190735 L160.193124,29.5190735 C159.961038,28.9656372 159.646168,28.4909185 159.248513,28.0949173 C158.850859,27.6989161 158.383282,27.3941956 157.845781,27.1807556 C157.30828,26.9673157 156.713815,26.8605957 156.062387,26.8605957 Z M109,18 L93,18 L93,26 L100.987,18.013 L100.987882,26.0145455 L93,34.009697 L93,42 L100.987882,42 L100.987882,34.009697 L109,26.0145455 L109,18 Z M109,34 L101,42 L109,42 L109,34 Z M142.505646,26.849884 C141.070018,26.849884 139.822439,27.1378098 138.762909,27.7136612 C137.70338,28.2895126 136.88192,29.1160965 136.298531,30.1934128 C135.715142,31.2707291 135.423447,32.5584768 135.423447,34.0566559 L135.423447,34.0820465 C135.423447,35.5984751 135.708794,36.8948847 136.279488,37.9712753 C136.850182,39.0476659 137.665294,39.8709106 138.724823,40.4410095 C139.784353,41.0111084 141.045553,41.2961578 142.508423,41.2961578 C143.971955,41.2961578 145.232989,41.0125961 146.291527,40.4454727 C147.350065,39.8783493 148.166036,39.0570221 148.739441,37.9814911 C149.312846,36.9059601 149.599549,35.6061452 149.599549,34.0820465 L149.599549,34.0566559 C149.599549,32.5460459 149.307986,31.2535706 148.724861,30.1792297 C148.141737,29.1048889 147.320442,28.2814128 146.260979,27.7088013 C145.201515,27.1361898 143.949738,26.849884 142.505646,26.849884 Z M126.951344,22.6806641 L122.291173,22.6806641 L122.291173,41 L134.541356,41 L134.541356,37.2497253 L126.951344,37.2497253 L126.951344,22.6806641 Z M171.171843,27.1460419 L166.665801,27.1460419 L166.665801,41 L171.171843,41 L171.171843,27.1460419 Z M181.809271,26.849884 C180.769577,26.849884 179.898791,27.0860036 179.196913,27.5582428 C178.495034,28.030482 177.971451,28.697581 177.626165,29.5595398 L177.522619,29.5595398 L177.522619,27.1460419 L173.016577,27.1460419 L173.016577,41 L177.522619,41 L177.522619,33.1322784 C177.522619,32.6162669 177.61714,32.1625417 177.806181,31.7711029 C177.995222,31.3796641 178.26341,31.0729599 178.610746,30.8509903 C178.958082,30.6290207 179.369126,30.5180359 179.843878,30.5180359 C180.582586,30.5180359 181.136684,30.7411296 181.50617,31.1873169 C181.875657,31.6335042 182.0604,32.2544505 182.0604,33.0501556 L182.0604,41 L186.566442,41 L186.566442,32.0785675 C186.566442,30.4308217 186.154307,29.147438 185.330038,28.2284164 C184.505768,27.3093948 183.332179,26.849884 181.809271,26.849884 Z M142.505646,30.2649231 C143.01531,30.2649231 143.458191,30.4142914 143.83429,30.713028 C144.210388,31.0117645 144.501984,31.4435705 144.709076,32.0084457 C144.916168,32.573321 145.019715,33.2563883 145.019715,34.0576477 L145.019715,34.0830383 C145.019715,34.8905131 144.919276,35.5773163 144.718399,36.1434479 C144.517522,36.7095795 144.229927,37.1407242 143.855614,37.436882 C143.481301,37.7330399 143.036072,37.8811188 142.519928,37.8811188 C141.998363,37.8811188 141.549398,37.7331721 141.173035,37.4372787 C140.796672,37.1413854 140.507589,36.710406 140.305786,36.1443405 C140.103984,35.578275 140.003083,34.8911743 140.003083,34.0830383 L140.003083,34.0576477 C140.003083,33.2563883 140.105604,32.5737839 140.310646,32.0098343 C140.515689,31.4458847 140.806392,31.0140788 141.182755,30.7144165 C141.559118,30.4147542 142.000082,30.2649231 142.505646,30.2649231 Z M157.706231,30.5188293 C158.234938,30.5188293 158.694449,30.6580149 159.084764,30.9363861 C159.475078,31.2147573 159.778708,31.6130397 159.995652,32.1312332 C160.212597,32.6494268 160.321069,33.2702738 160.321069,33.9937744 L160.321069,34.0076599 C160.321069,34.7252096 160.214051,35.3439077 160.000016,35.8637543 C159.785981,36.3836009 159.482782,36.7832387 159.090417,37.0626678 C158.698053,37.342097 158.236657,37.4818115 157.706231,37.4818115 C157.176863,37.4818115 156.714807,37.3415019 156.320062,37.0608826 C155.925317,36.7802633 155.622018,36.3789062 155.410165,35.8568115 C155.198312,35.3347168 155.092385,34.715093 155.092385,33.9979401 L155.092385,33.9840546 C155.092385,33.2587026 155.1998,32.6385498 155.414628,32.1235962 C155.629457,31.6086426 155.932756,31.212443 156.324525,30.9349976 C156.716294,30.6575521 157.176863,30.5188293 157.706231,30.5188293 Z M168.91902,21.1605988 C168.272088,21.1605988 167.725859,21.3791631 167.280333,21.8162918 C166.834807,22.2534205 166.612044,22.7791189 166.612044,23.3933868 C166.612044,23.999059 166.834807,24.5224101 167.280333,24.9634399 C167.725859,25.4044698 168.272088,25.6249847 168.91902,25.6249847 C169.568597,25.6249847 170.115487,25.4044698 170.559691,24.9634399 C171.003895,24.5224101 171.225997,23.999059 171.225997,23.3933868 C171.225997,22.7791189 171.003895,22.2534205 170.559691,21.8162918 C170.115487,21.3791631 169.568597,21.1605988 168.91902,21.1605988 Z" id="Combined-Shape" fill="#FFFFFF"></path>
          </g>
        </svg>
      </a>
    </div>
  );
}

export default Landing;
